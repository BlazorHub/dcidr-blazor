@page "/compare-criteria"
@inject DcidrAppModel AppModel
@using Dcidr.Blazor.Shared
@inject NavigationManager NavigationManager

<h1>Compare criteria</h1>

<p class="mb-3">
    <small>Complete each sentence.</small>
</p>

<div class="comparison-container-list d-flex flex-wrap ">
    @foreach (var cc in AppModel.Decision.CriteriaComparisons)
    {
        <CriteriaComparisonInput @key="@cc.GetHashCode()" Item="@cc" WeightChanged="StateHasChanged" />
    }
</div>

<hr />

<div class="d-flex justify-content-between mb-3">
    <NavLink class="d-btn" href="compare-options">&lt;&nbsp;Back</NavLink>
    @if (AppModel.Decision.ResultPrerequisitesMet)
    {
        <NavLink class="d-btn d-btn-primary" href="results">View&nbsp;Results&nbsp;&gt;</NavLink>
    }
</div>

<DecisionDebug />

@code {
    protected override void OnInitialized()
    {
        if (!AppModel.Decision.AllOptionComparisonsHaveWeights)
        {
            NavigationManager.NavigateTo("/compare-options");
        }
    }
}
